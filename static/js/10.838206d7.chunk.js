(this["webpackJsonpreact-figbed"]=this["webpackJsonpreact-figbed"]||[]).push([[10],{377:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(72),u=a(65),i=a(16),c=a(6),d=a(369),o=a(372),s=a(165),h=a(266),m=a(373),g=a(17);function p(){var e=Object(i.a)(["\nmax-width:250px;\n"]);return p=function(){return e},e}function f(){var e=Object(i.a)(["\nmargin-top:20px;\nborder:1px dashed #d9d9d9;\npadding:20px;\nbackground:#fafafa\n"]);return f=function(){return e},e}var E=d.a.Dragger,b=o.a.Text,v=g.a.div(f()),w=g.a.img(p()),j=Object(l.a)((function(){var e=Object(u.a)().imageStore,t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(c.d)((function(){return{width:null,height:null,setWidth:function(e){l.width=e},setHeight:function(e){l.height=e},get widthStr(){return l.width?"/w/".concat(l.width):""},get heightStr(){return l.height?"/h/".concat(l.height):""},get fullStr(){return e.serverFile.attributes.url.attributes.url+"?imageView2/0"+l.widthStr+l.heightStr}}})),i={beforeUpload:function(t){return window.file=t,/\.(gif|jpg|jpeg|png|svg)$/.test(t.name)?t.size>4194304?(s.a.error("\u4e0a\u4f20\u56fe\u7247\u4e0d\u80fd\u5927\u4e8e2M\uff01"),!1):(e.setFile(t),e.setFilename(t.name),e.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f",e)})).catch((function(e){console.log("\u4e0a\u4f20\u5931\u8d25",e)})),!1):(s.a.error("\u53ea\u80fd\u4e0a\u4f20\u56fe\u7247\uff01"),!1)},showUploadList:!1};return r.a.createElement("div",null,r.a.createElement(h.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:e.isUploading},r.a.createElement(E,i,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(m.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"\u70b9\u51fb\u9009\u62e9\u56fe\u7247 / \u5c06\u56fe\u7247\u62d6\u5165\u6b64\u865a\u7ebf\u6846"),r.a.createElement("p",{className:"ant-upload-hint"},"\u652f\u6301 JPG/PNG/BMP/GIF/SVG \u683c\u5f0f"))),r.a.createElement("div",null,e.serverFile?r.a.createElement(v,null,r.a.createElement("h2",null,e.filename),r.a.createElement("dl",null,r.a.createElement("dt",null,"\u5728\u7ebf\u5730\u5740 : "),r.a.createElement("dd",null,r.a.createElement(b,{copyable:{tooltips:["\u590d\u5236","\u590d\u5236\u6210\u529f!"]}},e.serverFile.attributes.url.attributes.url)),r.a.createElement("dt",null,"\u56fe\u7247\u9884\u89c8 : "),r.a.createElement("dd",null,r.a.createElement("a",{href:e.serverFile.attributes.url.attributes.url,target:"_blank"},r.a.createElement(w,{src:e.serverFile.attributes.url.attributes.url}))),r.a.createElement("dt",null,"\u81ea\u5b9a\u4e49\u5c3a\u5bf8 : "),r.a.createElement("dd",null,r.a.createElement("input",{ref:t,onChange:function(){l.setWidth(t.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6px\uff08\u53ef\u9009\uff09"}),r.a.createElement("input",{ref:a,onChange:function(){l.setHeight(a.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6px\uff08\u53ef\u9009\uff09"})),r.a.createElement("dt",null,l.height||l.width?"\u70b9\u51fb\u67e5\u770b\u81ea\u5b9a\u4e49\u56fe\u7247\uff1a":null),r.a.createElement("dd",null,l.height||l.width?r.a.createElement("a",{target:"_blank",href:l.fullStr},l.fullStr," "):null))):null))})),S=a(375),x=Object(l.a)((function(){var e=Object(u.a)().userStore;return r.a.createElement(r.a.Fragment,null,e.currentUser?null:r.a.createElement(S.a,{message:"\u767b\u5f55\u540e\u53ef\u4fdd\u5b58\u4e0a\u4f20\u8bb0\u5f55",type:"warning"}),r.a.createElement("br",null),r.a.createElement(j,null))}));t.default=x}}]);
//# sourceMappingURL=10.838206d7.chunk.js.map