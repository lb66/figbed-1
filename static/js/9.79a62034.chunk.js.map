{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Components","observer","historyStore","useStores","Text","Typography","useEffect","react","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","Meta","avatar","gap","shape","size","src","attributes","url","title","href","filename","description","copyable","tooltips","tip","History","userStore","currentUser","List"],"mappings":"qNAoDeA,EA7CIC,aAAS,WAAO,IACzBC,EAAiBC,cAAjBD,aACAE,EAASC,IAATD,KACRE,qBAAU,WAER,OAAO,WAELJ,EAAaK,WAEd,IAEH,OACE,kBAAC,IAAD,CACEC,aAAa,EACbC,UAAW,EACXC,SALa,WAAQR,EAAaS,QAMlCC,SAAUV,EAAaW,WAAaX,EAAaU,QACjDE,WAAW,GAEX,kBAAC,IAAD,CACEC,WAAYb,EAAac,KACzBC,WAAY,SAAAC,GAAI,OACd,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IACnB,kBAAC,IAAKF,KAAKG,KAAX,CACEC,OACE,kBAAC,IAAD,CAAQC,IAAK,IAAKC,MAAM,SAASC,KAAM,GAAIC,IAAKT,EAAKU,WAAWC,IAAID,WAAWC,MAEjFC,MAAO,uBAAGC,KAAMb,EAAKU,WAAWC,IAAID,WAAWC,KAAOX,EAAKU,WAAWI,UACtEC,YAAa,kBAAC7B,EAAD,CAAM8B,SAAU,CAAEC,SAAU,CAAC,eAAM,+BAAajB,EAAKU,WAAWC,IAAID,WAAWC,UAKjG3B,EAAaW,WAAaX,EAAaU,SACtC,6BACE,kBAAC,IAAD,CAAMwB,IAAI,6BC3BPC,UAXf,WAAoB,IACVC,EAAcnC,cAAdmC,UACR,OACE,oCAEIA,EAAUC,YAAc,kBAACC,EAAD,MAAW","file":"static/js/9.79a62034.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport { useStores } from '../stores'\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { List, Spin, Avatar, Typography } from 'antd';\r\n\r\n\r\nconst Components = observer(() => {\r\n  const { historyStore } = useStores()\r\n  const { Text } = Typography;\r\n  useEffect(() => {\r\n    // console.log('加载')\r\n    return () => {\r\n      // console.log('卸载')\r\n      historyStore.react()\r\n    }\r\n  }, [])\r\n  const loadMore = () => { historyStore.find() }\r\n  return (\r\n    <InfiniteScroll\r\n      initialLoad={true}\r\n      pageStart={0}\r\n      loadMore={loadMore}\r\n      hasMore={!historyStore.isLoading && historyStore.hasMore}\r\n      useWindow={true}\r\n    >\r\n      <List\r\n        dataSource={historyStore.list}\r\n        renderItem={item => (\r\n          <List.Item key={item.id}>\r\n            <List.Item.Meta\r\n              avatar={\r\n                <Avatar gap={100} shape=\"square\" size={64} src={item.attributes.url.attributes.url} />\r\n              }\r\n              title={<a href={item.attributes.url.attributes.url} >{item.attributes.filename}</a>}\r\n              description={<Text copyable={{ tooltips: ['复制', '复制成功!'] }}>{item.attributes.url.attributes.url}</Text>}\r\n            />\r\n          </List.Item>\r\n        )}\r\n      >\r\n        {historyStore.isLoading && historyStore.hasMore && (\r\n          <div>\r\n            <Spin tip='加载中' />\r\n          </div>\r\n        )}\r\n      </List>\r\n    </InfiniteScroll>\r\n\r\n  )\r\n})\r\n\r\n\r\nexport default Components","import React from 'react'\r\nimport List from '../components/List'\r\nimport { useStores } from '../stores/index'\r\n\r\nfunction History() {\r\n  const { userStore } = useStores()\r\n  return (\r\n    <>\r\n      {\r\n        userStore.currentUser ? <List /> : null\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default History"],"sourceRoot":""}